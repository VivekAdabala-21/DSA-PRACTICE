class Solution {
    public int timeRequiredToBuy(int[] tickets, int k) {
       Queue<Integer> q = new LinkedList<>();

        // add person indices
        for (int i = 0; i < tickets.length; i++) {
            q.add(i);
        }

        int time = 0;

        while (true) {
            int person = q.poll();

            // person buys ticket
            tickets[person]--;
            time++;

            // if k finishes, stop
            if (person == k && tickets[person] == 0) {
                break;
            }

            // if person still needs tickets, go back to queue
            if (tickets[person] > 0) {
                q.add(person);
            }
        }

        return time;
    }
}
