package graph;
import java.util.*;

public class Graph 
{
   private ArrayList<ArrayList<Integer>> adjList;
   
   // Constructor - initialize all vertices
   public Graph(int vertices)
   {
       adjList = new ArrayList<>();
       
       for(int i = 0; i < vertices; i++)
       {
           adjList.add(new ArrayList<>());
       }
   }
   
   // Add edge (Directed)
   public void addEdge(int source, int destination) {
       adjList.get(source).add(destination);   // Only one direction
   }
   
   // Remove edge (Directed)
   public void removeEdge(int source, int destination) {
       adjList.get(source).remove(Integer.valueOf(destination));
   }
   
   // Remove vertex (removes all incoming and outgoing edges)
   public void removeVertex(int vertex) {

       // Remove all incoming edges to this vertex
       for (int i = 0; i < adjList.size(); i++) 
       {
           adjList.get(i).remove(Integer.valueOf(vertex));
       }

       // Remove all outgoing edges from this vertex
       adjList.get(vertex).clear();
   }
   
   // Print graph
   public void printGraph() {
       for (int i = 0; i < adjList.size(); i++) {
           System.out.print(i + " -> ");
           for (int neighbor : adjList.get(i)) {
               System.out.print(neighbor + " ");
           }
           System.out.println();
       }
   }

   public static void main(String[] args) {

       Graph graph = new Graph(5); // vertices 0 to 4

       graph.addEdge(0, 1);
       graph.addEdge(0, 2);
       graph.addEdge(1, 3);
       graph.addEdge(3, 4);

       System.out.println("Original Directed Graph:");
       graph.printGraph();

       graph.removeEdge(0, 1);
       System.out.println("\nAfter removing edge (0,1):");
       graph.printGraph();

       graph.removeVertex(3);
       System.out.println("\nAfter removing vertex 3:");
       graph.printGraph();
   }
}
